<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Page Template</title>
        <script type="text/javascript" src="../d3/d3.js"></script>
        <style type= "text/css">
          p {
          font-size: 24px;
          font-weight: bold;
          font-style: sans-serif}
          div.bar {
            display: inline-block;
            width: 20px;
            height: 75px;
            background-color: teal;
            margin-right: 2px;}
        </style>

    </head>
    <body>
      <center>
        <p> KÃ¦ft jeg er vild </p>
        <div id = count></div>
        <div>
          <svg width="500" height="200">
            <rect x="0" y="120" width="80" height="80" fill="purple" stroke="grey" stroke-width="2" opacity ="1"/>
            <rect x="50" y="110" width="80" height="80" fill="blue" stroke="grey" stroke-width="2" opacity ="0.8"/>
            <rect x="100" y="100" width="80" height="80" fill="green" stroke="grey" stroke-width="2" opacity ="0.6"/>
            <rect x="150" y="90" width="80" height="80" fill="yellow" stroke="grey" stroke-width="2" opacity ="0.4"/>
            <rect x="200" y="80" width="80" height="80" fill="red" stroke="grey" stroke-width="2" opacity ="0.2"/>
          </svg>
        </div>
        <div id = "my_fancy_bar"></div>
        <div id = "d3circles"></div>
        <div id = "d3scatter"></div>
      </center>
    </body>


    <!--Counting script-->
    <script type="text/javascript">
        var dataset = [5,10,15,20,25];
        d3.select("#count").selectAll("p")
        .data(dataset)
        .enter()
        .append("p")
        .text(function(d){return "I can count up to " + d;})
        .style("color",function(d){
          if (d>15){
            return "red";
          } else {
            return "black";
          }
        });
    </script>

    <!--Making bar plots -->
    <script type="text/javascript">
      //var dataset = [ 25, 7, 5, 26, 11, 8, 25, 14, 23, 19,14, 11, 22, 29, 11, 13, 12, 17, 18, 10,24, 18, 25, 9, 3 ];
      var dataset = [];
      var w=500;
      var h=150;
      var barPadding = 1;
      for (var i = 0; i < 25; i++) {
        var newNumber = Math.floor(Math.random()*30);
        dataset.push(newNumber);
      }
      var svg =  d3.select("#my_fancy_bar")
                    .append("svg")
                    .attr("width",w)
                    .attr("height",h);


          svg.selectAll("rect")
             .data(dataset)
             .enter()
             .append("rect")
             .attr({
                  x: function(d, i) { return i * (w / dataset.length); },
                  y: function(d) { return h - (d * 4); },
                  width: w / dataset.length - barPadding,
                  height: function(d) { return d * 4; },
                  fill: function(d) { return "rgb(0, 0, " + (d * 10) + ")"; }
             });
          svg.selectAll("text")
              .data(dataset)
              .enter()
              .append("text")
              .text(function(d){return d})
              .attr({
                x: function(d,i){ return i*(w/dataset.length)+(w/dataset.length -barPadding)/2;},
                y: function(d) { return h - (d*4)+14;},
                "font-family": "sans-serif",
                "font-size": "11px",
                "fill": "white",
                "text-anchor": "middle"
              });
    </script>

    <!--Making circles -->
    <script type = "text/javascript">
        // Setting attributes
        var w = 500;
        var h = 100;
        // Creating SVG element
        var svg = d3.select("#d3circles").append("svg")
                  .attr("width", w)
                  .attr("height", h);
        // Our dataset
        var dataset = [5, 10, 15 ,20, 25];
        // Circle variable
        var circles = svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle");
        // Creating some circles
        circles.attr("cx",function(d,i){ return (i*50)+25;})
                .attr("cy", h/2)
                .attr("r", function(d) { return d; })
                .attr("fill", "yellow")
                .attr("stroke","orange")
                .attr("stroke-width",function(d){ return d/2 ;});


    </script>
    <script>
      var dataset = [
                      [ 5,     20 ],
                      [ 480,   90 ],
                      [ 250,   50 ],
                      [ 100,   33 ],
                      [ 330,   95 ],
                      [ 410,   12 ],
                      [ 475,   44 ],
                      [ 25,    67 ],
                      [ 85,    21 ],
                      [ 220,   88 ],
                      [ 600,   150]
                  ];
      var w = 500;
      var h = 300;
      var padding=20;
      var xScale = d3.scale.linear()
                      .domain([d3.min(dataset,function(d){return d[0];}),d3.max(dataset,function(d){ return d[0]; })])
                      .range([padding,w-padding*2]);
      var yScale = d3.scale.linear()
                      .domain([d3.min(dataset,function(d){ return d[1];}),d3.max(dataset,function(d){ return d[1]; })])
                      .range([h-padding,padding])
      var rScale = d3.scale.linear()
                      .domain([0,d3.max(dataset,function(d){return d[1];})])
                      .range([2,5]);
      var svg = d3.select("#d3scatter")
                .append("svg")
                .attr({
                  width: w,
                  height: h
                });
      svg.selectAll("circle")
                .data(dataset)
                .enter()
                .append("circle")
                .attr({
                  cx: function(d){return xScale(d[0])},
                  cy: function(d){return yScale(d[1])},
                  r:  function(d){ return rScale(d[1]);}
                });
      svg.selectAll("text")
          .data(dataset)
          .enter()
          .append("text")
          .text(function(d){ return d[0] + "," + d[1];})
          .attr({
            x: function(d) { return xScale(d[0]);},
            y: function(d) { return yScale(d[1]);},
            "font-family": "sans-serif",
            "font-size": "11px",
            "fill": "red"
          });

    </script>
</html>
